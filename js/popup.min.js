"use strict";!function(){var e="Ваше сообщение успешно отправлено",t="Что-то пошло не так, попробуйте еще раз",c=document.querySelector(".form"),r=document.getElementById("address"),u=document.querySelector("#popup"),i=document.createDocumentFragment(),n=document.querySelector("#surname"),o=function(){var e=document.querySelector(".popup");document.removeEventListener("keydown",d),e.removeEventListener("click",p),e.remove(),n.focus()},d=function(e){"Escape"===e.code&&o()},p=function(e){e.target.classList.contains("popup")&&o()},a=function(){o()},s=function(e){var t=u.content.querySelector(".popup").cloneNode(!0),n=t.querySelector(".popup__close"),o=t.querySelector(".popup__title");document.querySelector(".main").appendChild(i.appendChild(t)),o.innerHTML=e,document.addEventListener("keydown",d),n.addEventListener("click",a,{once:!0}),t.addEventListener("click",p),n.focus(),c.reset(),r.setAttribute("value",""),window.script.clearMarker(null),window.script.map.panTo({lat:59.939722,lng:30.332004}),window.script.map.setZoom(13)},l=function(){s(e)},m=function(){s(t)};c.addEventListener("submit",function(e){window.server.upload(new FormData(c),l,m),e.preventDefault()})}();